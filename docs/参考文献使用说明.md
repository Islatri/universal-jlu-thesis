# 参考文献使用说明

## 格式规范

根据吉林大学本科毕业论文（设计）规范要求：

### 标题格式
- 空2行后显示标题
- "参 考 文 献" 小3号黑体（15pt），居中
- 字间距加大（使用 `#h(1em)` 实现）

### 内容格式
- 参考文献条目：小4号宋体（12pt）
- 行距：18磅
- 编号格式：[1]、[2]、[3] ...
- **参考文献另起页码**

### 示例
```
[1]  曾思齐、欧阳君祥. 马尾松低质低效次生林分类技术研究.［J］.中南林学院学报，2002，22（2）：12-16
[2]  华罗庚，王元.论一致分布与近似分析.中国科学，1973（4）：339~357
[3]  张筑生.微分半动力系统的不变集研究：[学位论文]，北京：数学系统学研究所，1983
[4]  Borko H，Bernier C L．Indexing concepts and methods .New York:Academic Pr,1978
```

## 使用方法

### 1. 准备参考文献文件

在 `template/` 目录下创建 `refs.bib` 文件，按照 BibTeX 格式编写参考文献。

示例：
```bibtex
@article{曾思齐2002马尾松,
  title={马尾松低质低效次生林分类技术研究},
  author={曾思齐 and 欧阳君祥},
  journal={中南林学院学报},
  volume={22},
  number={2},
  pages={12--16},
  year={2002}
}

@article{华罗庚1973论一致分布,
  title={论一致分布与近似分析},
  author={华罗庚 and 王元},
  journal={中国科学},
  number={4},
  pages={339--357},
  year={1973}
}

@phdthesis{张筑生1983微分半动力系统,
  title={微分半动力系统的不变集研究},
  author={张筑生},
  school={数学系统学研究所},
  address={北京},
  year={1983}
}

@book{borko1978indexing,
  title={Indexing concepts and methods},
  author={Borko, H and Bernier, C L},
  publisher={Academic Pr},
  address={New York},
  year={1978}
}
```

### 2. 在 main.typ 中配置

```typst
#show: jlu-bachelor.with(
  thesis-info: (
    // ... 其他信息
  ),
  
  bib-file: "refs.bib", // 指定参考文献文件路径
  
  // ... 其他配置
)
```

### 3. 在正文中引用

使用 `@引用标签` 或 `#cite(<引用标签>)` 来引用参考文献：

```typst
= 绪论

二次元角色识别是一个重要的研究领域@曾思齐2002马尾松。
近年来，深度学习在图像识别领域取得了显著进展#cite(<华罗庚1973论一致分布>)。
```

### 4. 引用多个文献

```typst
许多研究者对此进行了深入研究@曾思齐2002马尾松@华罗庚1973论一致分布@张筑生1983微分半动力系统。
```

## 技术实现

### bibliography.typ

`bibliography-page()` 函数实现了：
1. 参考文献另起页码（`pagebreak()`）
2. 标题前空2行（`v(2em)`）
3. 标题格式：小3号黑体，居中，字间距加大
4. 内容格式：小4号宋体，18磅行距
5. 使用国标 GB 7714-2015 格式

### template.typ

在主模板中：
1. 接受 `bib-file` 参数（参考文献文件路径）
2. 在结论之后、创新性成果之前插入参考文献
3. 自动处理参考文献的格式和排版

## 注意事项

1. **参考文献会另起页码**，无需手动添加 `pagebreak()`
2. 参考文献使用 **GB 7714-2015 国标格式**
3. BibTeX 文件需要使用 UTF-8 编码
4. 中文文献建议使用拼音或简短的中文作为引用标签
5. 引用标签不要包含空格和特殊字符

## 文件结构

```
template/
├── main.typ          # 主文档（配置 bib-file: "refs.bib"）
└── refs.bib          # 参考文献数据库

core/
├── bibliography.typ  # 参考文献格式定义
└── template.typ      # 主模板（处理参考文献插入）
```

## 常见问题

### Q: 如何修改参考文献样式？
A: 在 `bibliography.typ` 的 `bibliography()` 函数中修改 `style` 参数。目前使用 `"gb-7714-2015-numeric"`（国标数字编号格式）。

### Q: 参考文献不显示怎么办？
A: 确保：
1. `bib-file` 参数已正确设置
2. `refs.bib` 文件存在且格式正确
3. 正文中有引用（使用 `@标签` 或 `#cite(<标签>)`）

### Q: 如何调整参考文献的行距？
A: 在 `bibliography.typ` 中修改 `set par(leading: 6pt)`，其中 `6pt` 对应 18磅行距。

### Q: 如何让参考文献显示在目录中？
A: 目前参考文献不显示在目录中，如需显示，可在 `bibliography.typ` 中添加 `heading` 并加入 `outlined: true` 参数。
